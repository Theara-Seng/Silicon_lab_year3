C51 COMPILER V9.60.0.0   INITDEVICE                                                        04/11/2021 21:30:28 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE INITDEVICE
OBJECT MODULE PLACED IN .\src/InitDevice.OBJ
COMPILER INVOKED BY: Z:\home\tadashi\Downloads\SimplicityStudio_v5\developer\toolchains\keil_8051\9.60\BIN\C51.exe /home
                    -/tadashi/SimplicityStudio/v5_workspace/Button_interrupt/src/InitDevice.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WARNIN
                    -GLEVEL(2) FLOATFUZZY(3) OPTIMIZE(0,SPEED) DEFINE(DEBUG=1) INTVECTOR(0X0000) INTPROMOTE INCDIR(/home/tadashi/SimplicitySt
                    -udio/v5_workspace/Button_interrupt/inc;/home/tadashi/Downloads/SimplicityStudio_v5/developer/sdks/8051/v4.2.0//Device/sh
                    -ared/si8051Base;/home/tadashi/Downloads/SimplicityStudio_v5/developer/sdks/8051/v4.2.0//Device/EFM8LB1/inc) PRINT(.\src/
                    -InitDevice.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src/InitDevice.OBJ)

line level    source

   1          //=========================================================
   2          // src/InitDevice.c: generated by Hardware Configurator
   3          //
   4          // This file will be regenerated when saving a document.
   5          // leave the sections inside the "$[...]" comment tags alone
   6          // or they will be overwritten!!
   7          //=========================================================
   8          
   9          // USER INCLUDES
  10          #include <SI_EFM8LB1_Register_Enums.h>
  11          #include "InitDevice.h"
  12          
  13          // USER PROTOTYPES
  14          // USER FUNCTIONS
  15          
  16          // $[Library Includes]
  17          // [Library Includes]$
  18          
  19          //==============================================================================
  20          // enter_DefaultMode_from_RESET
  21          //==============================================================================
  22          extern void
  23          enter_DefaultMode_from_RESET (void)
  24          {
  25   1        // $[Config Calls]
  26   1        // Save the SFRPAGE
  27   1        uint8_t SFRPAGE_save = SFRPAGE;
  28   1        WDT_0_enter_DefaultMode_from_RESET ();
  29   1        PORTS_0_enter_DefaultMode_from_RESET ();
  30   1        PORTS_1_enter_DefaultMode_from_RESET ();
  31   1        PBCFG_0_enter_DefaultMode_from_RESET ();
  32   1        EXTINT_0_enter_DefaultMode_from_RESET ();
  33   1        INTERRUPT_0_enter_DefaultMode_from_RESET ();
  34   1        // Restore the SFRPAGE
  35   1        SFRPAGE = SFRPAGE_save;
  36   1        // [Config Calls]$
  37   1      
  38   1      }
  39          
  40          extern void
  41          EXTINT_0_enter_DefaultMode_from_RESET (void)
  42          {
  43   1      
  44   1        // $[IT01CF - INT0/INT1 Configuration]
  45   1        /***********************************************************************
  46   1         - INT0 input is active low
  47   1         - Select P0.0
  48   1         - INT1 input is active low
  49   1         - Select P0.0
  50   1         ***********************************************************************/
  51   1        IT01CF = IT01CF_IN0PL__ACTIVE_LOW | IT01CF_IN0SL__P0_0
C51 COMPILER V9.60.0.0   INITDEVICE                                                        04/11/2021 21:30:28 PAGE 2   

  52   1            | IT01CF_IN1PL__ACTIVE_LOW | IT01CF_IN1SL__P0_0;
  53   1        // [IT01CF - INT0/INT1 Configuration]$
  54   1      
  55   1      }
  56          
  57          extern void
  58          INTERRUPT_0_enter_DefaultMode_from_RESET (void)
  59          {
  60   1        // $[EIE1 - Extended Interrupt Enable 1]
  61   1        // [EIE1 - Extended Interrupt Enable 1]$
  62   1      
  63   1        // $[EIE2 - Extended Interrupt Enable 2]
  64   1        // [EIE2 - Extended Interrupt Enable 2]$
  65   1      
  66   1        // $[EIP1H - Extended Interrupt Priority 1 High]
  67   1        // [EIP1H - Extended Interrupt Priority 1 High]$
  68   1      
  69   1        // $[EIP1 - Extended Interrupt Priority 1 Low]
  70   1        // [EIP1 - Extended Interrupt Priority 1 Low]$
  71   1      
  72   1        // $[EIP2 - Extended Interrupt Priority 2]
  73   1        // [EIP2 - Extended Interrupt Priority 2]$
  74   1      
  75   1        // $[EIP2H - Extended Interrupt Priority 2 High]
  76   1        // [EIP2H - Extended Interrupt Priority 2 High]$
  77   1      
  78   1        // $[IE - Interrupt Enable]
  79   1        /***********************************************************************
  80   1         - Enable each interrupt according to its individual mask setting
  81   1         - Enable interrupt requests generated by the INT0 input
  82   1         - Disable external interrupt 1
  83   1         - Disable all SPI0 interrupts
  84   1         - Disable all Timer 0 interrupt
  85   1         - Disable all Timer 1 interrupt
  86   1         - Disable Timer 2 interrupt
  87   1         - Disable UART0 interrupt
  88   1         ***********************************************************************/
  89   1        IE = IE_EA__ENABLED | IE_EX0__ENABLED | IE_EX1__DISABLED | IE_ESPI0__DISABLED
  90   1            | IE_ET0__DISABLED | IE_ET1__DISABLED | IE_ET2__DISABLED
  91   1            | IE_ES0__DISABLED;
  92   1        // [IE - Interrupt Enable]$
  93   1      
  94   1        // $[IP - Interrupt Priority]
  95   1        // [IP - Interrupt Priority]$
  96   1      
  97   1        // $[IPH - Interrupt Priority High]
  98   1        // [IPH - Interrupt Priority High]$
  99   1      
 100   1      }
 101          
 102          extern void
 103          PORTS_0_enter_DefaultMode_from_RESET (void)
 104          {
 105   1        // $[P0 - Port 0 Pin Latch]
 106   1        // [P0 - Port 0 Pin Latch]$
 107   1      
 108   1        // $[P0MDOUT - Port 0 Output Mode]
 109   1        /***********************************************************************
 110   1         - P0.0 output is push-pull
 111   1         - P0.1 output is open-drain
 112   1         - P0.2 output is open-drain
 113   1         - P0.3 output is open-drain
 114   1         - P0.4 output is open-drain
C51 COMPILER V9.60.0.0   INITDEVICE                                                        04/11/2021 21:30:28 PAGE 3   

 115   1         - P0.5 output is open-drain
 116   1         - P0.6 output is open-drain
 117   1         - P0.7 output is open-drain
 118   1         ***********************************************************************/
 119   1        P0MDOUT = P0MDOUT_B0__PUSH_PULL | P0MDOUT_B1__OPEN_DRAIN
 120   1            | P0MDOUT_B2__OPEN_DRAIN | P0MDOUT_B3__OPEN_DRAIN | P0MDOUT_B4__OPEN_DRAIN
 121   1            | P0MDOUT_B5__OPEN_DRAIN | P0MDOUT_B6__OPEN_DRAIN
 122   1            | P0MDOUT_B7__OPEN_DRAIN;
 123   1        // [P0MDOUT - Port 0 Output Mode]$
 124   1      
 125   1        // $[P0MDIN - Port 0 Input Mode]
 126   1        // [P0MDIN - Port 0 Input Mode]$
 127   1      
 128   1        // $[P0SKIP - Port 0 Skip]
 129   1        /***********************************************************************
 130   1         - P0.0 pin is not skipped by the crossbar
 131   1         - P0.1 pin is skipped by the crossbar
 132   1         - P0.2 pin is skipped by the crossbar
 133   1         - P0.3 pin is skipped by the crossbar
 134   1         - P0.4 pin is skipped by the crossbar
 135   1         - P0.5 pin is skipped by the crossbar
 136   1         - P0.6 pin is skipped by the crossbar
 137   1         - P0.7 pin is skipped by the crossbar
 138   1         ***********************************************************************/
 139   1        P0SKIP = P0SKIP_B0__NOT_SKIPPED | P0SKIP_B1__SKIPPED | P0SKIP_B2__SKIPPED
 140   1            | P0SKIP_B3__SKIPPED | P0SKIP_B4__SKIPPED | P0SKIP_B5__SKIPPED
 141   1            | P0SKIP_B6__SKIPPED | P0SKIP_B7__SKIPPED;
 142   1        // [P0SKIP - Port 0 Skip]$
 143   1      
 144   1        // $[P0MASK - Port 0 Mask]
 145   1        // [P0MASK - Port 0 Mask]$
 146   1      
 147   1        // $[P0MAT - Port 0 Match]
 148   1        // [P0MAT - Port 0 Match]$
 149   1      
 150   1      }
 151          
 152          extern void
 153          PBCFG_0_enter_DefaultMode_from_RESET (void)
 154          {
 155   1        // $[XBR2 - Port I/O Crossbar 2]
 156   1        // [XBR2 - Port I/O Crossbar 2]$
 157   1      
 158   1        // $[PRTDRV - Port Drive Strength]
 159   1        // [PRTDRV - Port Drive Strength]$
 160   1      
 161   1        // $[XBR0 - Port I/O Crossbar 0]
 162   1        // [XBR0 - Port I/O Crossbar 0]$
 163   1      
 164   1        // $[XBR1 - Port I/O Crossbar 1]
 165   1        // [XBR1 - Port I/O Crossbar 1]$
 166   1      
 167   1      }
 168          
 169          extern void
 170          WDT_0_enter_DefaultMode_from_RESET (void)
 171          {
 172   1        // $[Watchdog Timer Init Variable Declarations]
 173   1        uint32_t i;
 174   1        bool ea;
 175   1        // [Watchdog Timer Init Variable Declarations]$
 176   1      
 177   1        // $[WDTCN - Watchdog Timer Control]
C51 COMPILER V9.60.0.0   INITDEVICE                                                        04/11/2021 21:30:28 PAGE 4   

 178   1        // Deprecated
 179   1        // [WDTCN - Watchdog Timer Control]$
 180   1      
 181   1        // $[WDTCN_2 - Watchdog Timer Control]
 182   1        SFRPAGE = 0x00;
 183   1      
 184   1        // Feed WDT timer before disabling (Erratum WDT_E102)
 185   1        WDTCN = 0xA5;
 186   1      
 187   1        // Add 2 LFO cycle delay before disabling WDT (Erratum WDT_E102)
 188   1        for (i = 0; i < (2 * 3062500UL) / (80000 * 3); i++)
 189   1          {
 190   2            NOP ();
 191   2          }
 192   1      
 193   1        // Disable WDT
 194   1        ea = IE_EA;
 195   1        IE_EA = 0;
 196   1        WDTCN = 0xDE;
 197   1        WDTCN = 0xAD;
 198   1        IE_EA = ea;
 199   1      
 200   1        // [WDTCN_2 - Watchdog Timer Control]$
 201   1      
 202   1      }
 203          
 204          extern void
 205          PORTS_1_enter_DefaultMode_from_RESET (void)
 206          {
 207   1        // $[P1 - Port 1 Pin Latch]
 208   1        // [P1 - Port 1 Pin Latch]$
 209   1      
 210   1        // $[P1MDOUT - Port 1 Output Mode]
 211   1        /***********************************************************************
 212   1         - P1.0 output is open-drain
 213   1         - P1.1 output is open-drain
 214   1         - P1.2 output is open-drain
 215   1         - P1.3 output is push-pull
 216   1         - P1.4 output is push-pull
 217   1         - P1.5 output is open-drain
 218   1         - P1.6 output is open-drain
 219   1         - P1.7 output is open-drain
 220   1         ***********************************************************************/
 221   1        P1MDOUT = P1MDOUT_B0__OPEN_DRAIN | P1MDOUT_B1__OPEN_DRAIN
 222   1            | P1MDOUT_B2__OPEN_DRAIN | P1MDOUT_B3__PUSH_PULL | P1MDOUT_B4__PUSH_PULL
 223   1            | P1MDOUT_B5__OPEN_DRAIN | P1MDOUT_B6__OPEN_DRAIN
 224   1            | P1MDOUT_B7__OPEN_DRAIN;
 225   1        // [P1MDOUT - Port 1 Output Mode]$
 226   1      
 227   1        // $[P1MDIN - Port 1 Input Mode]
 228   1        // [P1MDIN - Port 1 Input Mode]$
 229   1      
 230   1        // $[P1SKIP - Port 1 Skip]
 231   1        /***********************************************************************
 232   1         - P1.0 pin is skipped by the crossbar
 233   1         - P1.1 pin is skipped by the crossbar
 234   1         - P1.2 pin is skipped by the crossbar
 235   1         - P1.3 pin is not skipped by the crossbar
 236   1         - P1.4 pin is not skipped by the crossbar
 237   1         - P1.5 pin is not skipped by the crossbar
 238   1         - P1.6 pin is not skipped by the crossbar
 239   1         - P1.7 pin is not skipped by the crossbar
 240   1         ***********************************************************************/
C51 COMPILER V9.60.0.0   INITDEVICE                                                        04/11/2021 21:30:28 PAGE 5   

 241   1        P1SKIP = P1SKIP_B0__SKIPPED | P1SKIP_B1__SKIPPED | P1SKIP_B2__SKIPPED
 242   1            | P1SKIP_B3__NOT_SKIPPED | P1SKIP_B4__NOT_SKIPPED | P1SKIP_B5__NOT_SKIPPED
 243   1            | P1SKIP_B6__NOT_SKIPPED | P1SKIP_B7__NOT_SKIPPED;
 244   1        // [P1SKIP - Port 1 Skip]$
 245   1      
 246   1        // $[P1MASK - Port 1 Mask]
 247   1        // [P1MASK - Port 1 Mask]$
 248   1      
 249   1        // $[P1MAT - Port 1 Match]
 250   1        // [P1MAT - Port 1 Match]$
 251   1      
 252   1      }
 253          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    140    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
